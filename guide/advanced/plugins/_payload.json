[{"data":1,"prerenderedAt":591},["ShallowReactive",2],{"navigation":3,"-guide-advanced-plugins":185,"-guide-advanced-plugins-surround":586},[4,91,133,161,168],{"title":5,"path":6,"stem":7,"children":8,"icon":90},"Guide","/guide","1.guide/0.index",[9,12,53,69],{"title":10,"path":6,"stem":7,"icon":11},"入门指南","pixel:play",{"title":5,"icon":13,"path":14,"stem":15,"children":16,"page":52},"ph:book-open-duotone","/guide/basics","1.guide/1.basics",[17,22,27,32,37,42,47],{"title":18,"path":19,"stem":20,"icon":21},"请求生命周期","/guide/basics/lifecycle","1.guide/1.basics/1.lifecycle","icon-park-outline:handle-round",{"title":23,"path":24,"stem":25,"icon":26},"路由","/guide/basics/routing","1.guide/1.basics/2.routing","solar:routing-bold",{"title":28,"path":29,"stem":30,"icon":31},"中间件","/guide/basics/middleware","1.guide/1.basics/3.middleware","mdi:middleware-outline",{"title":33,"path":34,"stem":35,"icon":36},"事件处理器","/guide/basics/handler","1.guide/1.basics/4.handler","mdi:function",{"title":38,"path":39,"stem":40,"icon":41},"发送响应","/guide/basics/response","1.guide/1.basics/5.response","tabler:json",{"title":43,"path":44,"stem":45,"icon":46},"错误处理","/guide/basics/error","1.guide/1.basics/6.error","tabler:error-404",{"title":48,"path":49,"stem":50,"icon":51},"嵌套应用","/guide/basics/nested-apps","1.guide/1.basics/7.nested-apps","material-symbols-light:layers-outline",false,{"title":54,"icon":55,"path":56,"stem":57,"children":58,"page":52},"API","material-symbols-light:api-rounded","/guide/api","1.guide/900.api",[59,64],{"title":60,"path":61,"stem":62,"icon":63},"H3","/guide/api/h3","1.guide/900.api/1.h3","material-symbols:bolt-rounded",{"title":65,"path":66,"stem":67,"icon":68},"H3Event","/guide/api/h3event","1.guide/900.api/2.h3event","material-symbols:data-object-rounded",{"title":70,"icon":71,"path":72,"stem":73,"children":74,"page":52},"Advanced","hugeicons:more-01","/guide/advanced","1.guide/901.advanced",[75,80,85],{"title":76,"path":77,"stem":78,"icon":79},"Plugins","/guide/advanced/plugins","1.guide/901.advanced/1.plugins","clarity:plugin-line",{"title":81,"path":82,"stem":83,"icon":84},"WebSockets","/guide/advanced/websocket","1.guide/901.advanced/2.websocket","hugeicons:live-streaming-02",{"title":86,"path":87,"stem":88,"icon":89},"每夜构建","/guide/advanced/nightly","1.guide/901.advanced/9.nightly","game-icons:barn-owl","i-ph:book-open-duotone",{"title":92,"path":93,"stem":94,"children":95,"icon":97},"H3 工具集","/utils","2.utils/0.index",[96,98,103,108,113,118,123,128],{"title":92,"path":93,"stem":94,"icon":97},"ph:function-bold",{"title":99,"path":100,"stem":101,"icon":102},"请求","/utils/request","2.utils/1.request","material-symbols-light:input",{"title":104,"path":105,"stem":106,"icon":107},"响应","/utils/response","2.utils/2.response","material-symbols-light:output",{"title":109,"path":110,"stem":111,"icon":112},"Cookie","/utils/cookie","2.utils/3.cookie","material-symbols:cookie-outline",{"title":114,"path":115,"stem":116,"icon":117},"安全","/utils/security","2.utils/4.security","wpf:key-security",{"title":119,"path":120,"stem":121,"icon":122},"代理","/utils/proxy","2.utils/5.proxy","arcticons:super-proxy",{"title":124,"path":125,"stem":126,"icon":127},"更多工具","/utils/more","2.utils/9.more","mingcute:plus-line",{"title":129,"path":130,"stem":131,"icon":132},"社区","/utils/community","2.utils/99.community","lets-icons:external",{"title":134,"path":135,"stem":136,"children":137,"icon":139},"示例","/examples","4.examples/0.index",[138,140,145,149,153,157],{"title":134,"path":135,"stem":136,"icon":139},"ph:code",{"title":141,"path":142,"stem":143,"icon":144},"Cookies","/examples/handle-cookie","4.examples/handle-cookie","ph:arrow-right",{"title":146,"path":147,"stem":148,"icon":144},"会话","/examples/handle-session","4.examples/handle-session",{"title":150,"path":151,"stem":152,"icon":144},"静态资源","/examples/serve-static-assets","4.examples/serve-static-assets",{"title":154,"path":155,"stem":156,"icon":144},"流式响应","/examples/stream-response","4.examples/stream-response",{"title":158,"path":159,"stem":160,"icon":144},"验证数据","/examples/validate-data","4.examples/validate-data",{"title":162,"path":163,"stem":164,"children":165,"icon":167},"从 v1 到 v2 的迁移指南","/migration","5.migration/0.index",[166],{"title":162,"path":163,"stem":164,"icon":167},"icons8:up-round",{"title":169,"path":170,"stem":171,"children":172},"Blog","/blog","99.blog",[173,177,181],{"title":174,"path":170,"stem":175,"icon":176},"博客","99.blog/index","i-lucide-file-text",{"title":178,"path":179,"stem":180,"icon":176},"H3 1.8 - 迈向 Web 的边缘","/blog/v1.8","99.blog/1.v1.8",{"title":182,"path":183,"stem":184,"icon":176},"H3 v2 测试版","/blog/v2-beta","99.blog/2.v2-beta",{"id":186,"title":76,"body":187,"description":580,"extension":581,"meta":582,"navigation":583,"path":77,"seo":584,"stem":78,"__hash__":585},"content/1.guide/901.advanced/1.plugins.md",{"type":188,"value":189,"toc":576,"icon":79},"minimark",[190,195,209,376,382,386,392,439,446,572],[191,192,194],"h2",{"id":193},"register-plugins","Register Plugins",[196,197,198,199,203,204,208],"p",{},"Plugins can be registered either when creating a new ",[200,201,202],"a",{"href":61},"H3 instance"," or by using ",[200,205,207],{"href":206},"/guide/api/h3#h3register","H3.register",".",[210,211,216],"pre",{"className":212,"code":213,"language":214,"meta":215,"style":215},"language-js shiki shiki-themes github-light github-dark github-dark","import { H3 } from \"h3\";\nimport { logger } from \"./logger.mjs\";\n\n// Using instance config\nconst app = new H3({\n  plugins: [logger()],\n});\n\n// Or register later\napp.register(logger());\n\n// ... rest of the code..\napp.get(\"/**\", () => \"Hello, World!\");\n","js","",[217,218,219,242,257,264,271,294,306,312,317,323,340,345,351],"code",{"__ignoreMap":215},[220,221,224,228,232,235,239],"span",{"class":222,"line":223},"line",1,[220,225,227],{"class":226},"so5gQ","import",[220,229,231],{"class":230},"slsVL"," { H3 } ",[220,233,234],{"class":226},"from",[220,236,238],{"class":237},"sfrk1"," \"h3\"",[220,240,241],{"class":230},";\n",[220,243,245,247,250,252,255],{"class":222,"line":244},2,[220,246,227],{"class":226},[220,248,249],{"class":230}," { logger } ",[220,251,234],{"class":226},[220,253,254],{"class":237}," \"./logger.mjs\"",[220,256,241],{"class":230},[220,258,260],{"class":222,"line":259},3,[220,261,263],{"emptyLinePlaceholder":262},true,"\n",[220,265,267],{"class":222,"line":266},4,[220,268,270],{"class":269},"sCsY4","// Using instance config\n",[220,272,274,277,281,284,287,291],{"class":222,"line":273},5,[220,275,276],{"class":226},"const",[220,278,280],{"class":279},"suiK_"," app",[220,282,283],{"class":226}," =",[220,285,286],{"class":226}," new",[220,288,290],{"class":289},"shcOC"," H3",[220,292,293],{"class":230},"({\n",[220,295,297,300,303],{"class":222,"line":296},6,[220,298,299],{"class":230},"  plugins: [",[220,301,302],{"class":289},"logger",[220,304,305],{"class":230},"()],\n",[220,307,309],{"class":222,"line":308},7,[220,310,311],{"class":230},"});\n",[220,313,315],{"class":222,"line":314},8,[220,316,263],{"emptyLinePlaceholder":262},[220,318,320],{"class":222,"line":319},9,[220,321,322],{"class":269},"// Or register later\n",[220,324,326,329,332,335,337],{"class":222,"line":325},10,[220,327,328],{"class":230},"app.",[220,330,331],{"class":289},"register",[220,333,334],{"class":230},"(",[220,336,302],{"class":289},[220,338,339],{"class":230},"());\n",[220,341,343],{"class":222,"line":342},11,[220,344,263],{"emptyLinePlaceholder":262},[220,346,348],{"class":222,"line":347},12,[220,349,350],{"class":269},"// ... rest of the code..\n",[220,352,354,356,359,361,364,367,370,373],{"class":222,"line":353},13,[220,355,328],{"class":230},[220,357,358],{"class":289},"get",[220,360,334],{"class":230},[220,362,363],{"class":237},"\"/**\"",[220,365,366],{"class":230},", () ",[220,368,369],{"class":226},"=>",[220,371,372],{"class":237}," \"Hello, World!\"",[220,374,375],{"class":230},");\n",[377,378,379],"note",{},[196,380,381],{},"\nPlugins are always registered immediately. Therefore, the order in which they are used might be important depending on the plugin's functionality.",[191,383,385],{"id":384},"creating-plugins","Creating Plugins",[196,387,388,389,391],{},"H3 plugins are simply functions that accept an ",[200,390,202],{"href":61}," as the first argument and immediately apply logic to extend it.",[210,393,395],{"className":212,"code":394,"language":214,"meta":215,"style":215},"app.register((app) => {\n  app.use(...)\n})\n",[217,396,397,418,434],{"__ignoreMap":215},[220,398,399,401,403,406,410,413,415],{"class":222,"line":223},[220,400,328],{"class":230},[220,402,331],{"class":289},[220,404,405],{"class":230},"((",[220,407,409],{"class":408},"sQHwn","app",[220,411,412],{"class":230},") ",[220,414,369],{"class":226},[220,416,417],{"class":230}," {\n",[220,419,420,423,426,428,431],{"class":222,"line":244},[220,421,422],{"class":230},"  app.",[220,424,425],{"class":289},"use",[220,427,334],{"class":230},[220,429,430],{"class":226},"...",[220,432,433],{"class":230},")\n",[220,435,436],{"class":222,"line":259},[220,437,438],{"class":230},"})\n",[196,440,441,442,445],{},"For convenience, H3 provides a built-in ",[217,443,444],{},"definePlugin"," utility, which creates a typed factory function with optional plugin-specific options.",[210,447,449],{"className":212,"code":448,"language":214,"meta":215,"style":215},"import { definePlugin } from \"h3\";\n\nconst logger = definePlugin((h3, _options) => {\n  if (h3.config.debug) {\n    h3.use((req) => {\n      console.log(`[${req.method}] ${req.url}`);\n    });\n  }\n});\n",[217,450,451,464,468,497,505,523,558,563,568],{"__ignoreMap":215},[220,452,453,455,458,460,462],{"class":222,"line":223},[220,454,227],{"class":226},[220,456,457],{"class":230}," { definePlugin } ",[220,459,234],{"class":226},[220,461,238],{"class":237},[220,463,241],{"class":230},[220,465,466],{"class":222,"line":244},[220,467,263],{"emptyLinePlaceholder":262},[220,469,470,472,475,477,480,482,485,488,491,493,495],{"class":222,"line":259},[220,471,276],{"class":226},[220,473,474],{"class":279}," logger",[220,476,283],{"class":226},[220,478,479],{"class":289}," definePlugin",[220,481,405],{"class":230},[220,483,484],{"class":408},"h3",[220,486,487],{"class":230},", ",[220,489,490],{"class":408},"_options",[220,492,412],{"class":230},[220,494,369],{"class":226},[220,496,417],{"class":230},[220,498,499,502],{"class":222,"line":266},[220,500,501],{"class":226},"  if",[220,503,504],{"class":230}," (h3.config.debug) {\n",[220,506,507,510,512,514,517,519,521],{"class":222,"line":273},[220,508,509],{"class":230},"    h3.",[220,511,425],{"class":289},[220,513,405],{"class":230},[220,515,516],{"class":408},"req",[220,518,412],{"class":230},[220,520,369],{"class":226},[220,522,417],{"class":230},[220,524,525,528,531,533,536,538,540,543,546,548,550,553,556],{"class":222,"line":296},[220,526,527],{"class":230},"      console.",[220,529,530],{"class":289},"log",[220,532,334],{"class":230},[220,534,535],{"class":237},"`[${",[220,537,516],{"class":230},[220,539,208],{"class":237},[220,541,542],{"class":230},"method",[220,544,545],{"class":237},"}] ${",[220,547,516],{"class":230},[220,549,208],{"class":237},[220,551,552],{"class":230},"url",[220,554,555],{"class":237},"}`",[220,557,375],{"class":230},[220,559,560],{"class":222,"line":308},[220,561,562],{"class":230},"    });\n",[220,564,565],{"class":222,"line":314},[220,566,567],{"class":230},"  }\n",[220,569,570],{"class":222,"line":319},[220,571,311],{"class":230},[573,574,575],"style",{},"html pre.shiki code .so5gQ, html code.shiki .so5gQ{--shiki-light:#D73A49;--shiki-default:#F97583;--shiki-dark:#F97583}html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .sfrk1, html code.shiki .sfrk1{--shiki-light:#032F62;--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF}html pre.shiki code .sCsY4, html code.shiki .sCsY4{--shiki-light:#6A737D;--shiki-default:#6A737D;--shiki-dark:#6A737D}html pre.shiki code .suiK_, html code.shiki .suiK_{--shiki-light:#005CC5;--shiki-default:#79B8FF;--shiki-dark:#79B8FF}html pre.shiki code .shcOC, html code.shiki .shcOC{--shiki-light:#6F42C1;--shiki-default:#B392F0;--shiki-dark:#B392F0}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sQHwn, html code.shiki .sQHwn{--shiki-light:#E36209;--shiki-default:#FFAB70;--shiki-dark:#FFAB70}",{"title":215,"searchDepth":244,"depth":244,"links":577},[578,579],{"id":193,"depth":244,"text":194},{"id":384,"depth":244,"text":385},"H3 plugins allow you to extend an H3 app instance with reusable logic.","md",{"icon":79},{"icon":79},{"title":76,"description":580},"iSdJd2q9FryWLj2rmHfEr0Vo2dnNiIZqR0CMr3MOiTY",[587,589],{"title":65,"path":66,"stem":67,"description":588,"icon":68,"children":-1},"H3Event，承载传入的请求、已准备的响应和上下文。",{"title":81,"path":82,"stem":83,"description":590,"icon":84,"children":-1},"H3 内置跨平台 WebSocket 和服务器发送事件的实用工具。",1762531024119]