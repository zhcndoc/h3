[{"data":1,"prerenderedAt":1895},["ShallowReactive",2],{"navigation":3,"-utils-request":185,"-utils-request-surround":1891},[4,91,133,161,168],{"title":5,"path":6,"stem":7,"children":8,"icon":90},"Guide","/guide","1.guide/0.index",[9,12,53,69],{"title":10,"path":6,"stem":7,"icon":11},"入门指南","pixel:play",{"title":5,"icon":13,"path":14,"stem":15,"children":16,"page":52},"ph:book-open-duotone","/guide/basics","1.guide/1.basics",[17,22,27,32,37,42,47],{"title":18,"path":19,"stem":20,"icon":21},"请求生命周期","/guide/basics/lifecycle","1.guide/1.basics/1.lifecycle","icon-park-outline:handle-round",{"title":23,"path":24,"stem":25,"icon":26},"路由","/guide/basics/routing","1.guide/1.basics/2.routing","solar:routing-bold",{"title":28,"path":29,"stem":30,"icon":31},"中间件","/guide/basics/middleware","1.guide/1.basics/3.middleware","mdi:middleware-outline",{"title":33,"path":34,"stem":35,"icon":36},"事件处理器","/guide/basics/handler","1.guide/1.basics/4.handler","mdi:function",{"title":38,"path":39,"stem":40,"icon":41},"发送响应","/guide/basics/response","1.guide/1.basics/5.response","tabler:json",{"title":43,"path":44,"stem":45,"icon":46},"错误处理","/guide/basics/error","1.guide/1.basics/6.error","tabler:error-404",{"title":48,"path":49,"stem":50,"icon":51},"嵌套应用","/guide/basics/nested-apps","1.guide/1.basics/7.nested-apps","material-symbols-light:layers-outline",false,{"title":54,"icon":55,"path":56,"stem":57,"children":58,"page":52},"API","material-symbols-light:api-rounded","/guide/api","1.guide/900.api",[59,64],{"title":60,"path":61,"stem":62,"icon":63},"H3","/guide/api/h3","1.guide/900.api/1.h3","material-symbols:bolt-rounded",{"title":65,"path":66,"stem":67,"icon":68},"H3Event","/guide/api/h3event","1.guide/900.api/2.h3event","material-symbols:data-object-rounded",{"title":70,"icon":71,"path":72,"stem":73,"children":74,"page":52},"Advanced","hugeicons:more-01","/guide/advanced","1.guide/901.advanced",[75,80,85],{"title":76,"path":77,"stem":78,"icon":79},"Plugins","/guide/advanced/plugins","1.guide/901.advanced/1.plugins","clarity:plugin-line",{"title":81,"path":82,"stem":83,"icon":84},"WebSockets","/guide/advanced/websocket","1.guide/901.advanced/2.websocket","hugeicons:live-streaming-02",{"title":86,"path":87,"stem":88,"icon":89},"每夜构建","/guide/advanced/nightly","1.guide/901.advanced/9.nightly","game-icons:barn-owl","i-ph:book-open-duotone",{"title":92,"path":93,"stem":94,"children":95,"icon":97},"H3 工具集","/utils","2.utils/0.index",[96,98,103,108,113,118,123,128],{"title":92,"path":93,"stem":94,"icon":97},"ph:function-bold",{"title":99,"path":100,"stem":101,"icon":102},"请求","/utils/request","2.utils/1.request","material-symbols-light:input",{"title":104,"path":105,"stem":106,"icon":107},"响应","/utils/response","2.utils/2.response","material-symbols-light:output",{"title":109,"path":110,"stem":111,"icon":112},"Cookie","/utils/cookie","2.utils/3.cookie","material-symbols:cookie-outline",{"title":114,"path":115,"stem":116,"icon":117},"安全","/utils/security","2.utils/4.security","wpf:key-security",{"title":119,"path":120,"stem":121,"icon":122},"代理","/utils/proxy","2.utils/5.proxy","arcticons:super-proxy",{"title":124,"path":125,"stem":126,"icon":127},"更多工具","/utils/more","2.utils/9.more","mingcute:plus-line",{"title":129,"path":130,"stem":131,"icon":132},"社区","/utils/community","2.utils/99.community","lets-icons:external",{"title":134,"path":135,"stem":136,"children":137,"icon":139},"示例","/examples","4.examples/0.index",[138,140,145,149,153,157],{"title":134,"path":135,"stem":136,"icon":139},"ph:code",{"title":141,"path":142,"stem":143,"icon":144},"Cookies","/examples/handle-cookie","4.examples/handle-cookie","ph:arrow-right",{"title":146,"path":147,"stem":148,"icon":144},"会话","/examples/handle-session","4.examples/handle-session",{"title":150,"path":151,"stem":152,"icon":144},"静态资源","/examples/serve-static-assets","4.examples/serve-static-assets",{"title":154,"path":155,"stem":156,"icon":144},"流式响应","/examples/stream-response","4.examples/stream-response",{"title":158,"path":159,"stem":160,"icon":144},"验证数据","/examples/validate-data","4.examples/validate-data",{"title":162,"path":163,"stem":164,"children":165,"icon":167},"从 v1 到 v2 的迁移指南","/migration","5.migration/0.index",[166],{"title":162,"path":163,"stem":164,"icon":167},"icons8:up-round",{"title":169,"path":170,"stem":171,"children":172},"Blog","/blog","99.blog",[173,177,181],{"title":174,"path":170,"stem":175,"icon":176},"博客","99.blog/index","i-lucide-file-text",{"title":178,"path":179,"stem":180,"icon":176},"H3 1.8 - 迈向 Web 的边缘","/blog/v1.8","99.blog/1.v1.8",{"title":182,"path":183,"stem":184,"icon":176},"H3 v2 测试版","/blog/v2-beta","99.blog/2.v2-beta",{"id":186,"title":99,"body":187,"description":1884,"extension":1885,"meta":1886,"navigation":1888,"path":100,"seo":1889,"stem":101,"__hash__":1890},"content/2.utils/1.request.md",{"type":188,"value":189,"toc":1859,"icon":102},"minimark",[190,195,203,207,214,220,335,341,344,349,399,405,412,419,423,531,535,685,689,695,706,709,715,722,725,743,747,795,801,804,808,855,861,864,876,879,883,929,935,938,948,955,959,1005,1011,1014,1028,1031,1035,1081,1087,1090,1099,1109,1113,1159,1165,1168,1181,1185,1233,1239,1242,1252,1256,1302,1308,1311,1317,1321,1413,1417,1511,1517,1520,1529,1535,1539,1621,1625,1712,1718,1721,1731,1735,1824,1830,1840,1843,1846,1852,1855],[191,192,194],"h2",{"id":193},"body","Body",[196,197,199],"h3",{"id":198},"assertbodysizeevent-limit",[200,201,202],"code",{},"assertBodySize(event, limit)",[204,205,206],"p",{},"Asserts that request body size is within the specified limit.",[204,208,209,210,213],{},"If body size exceeds the limit, throws a ",[200,211,212],{},"413"," Request Entity Too Large response error.",[204,215,216],{},[217,218,219],"strong",{},"Example:",[221,222,227],"pre",{"className":223,"code":224,"language":225,"meta":226,"style":226},"language-ts shiki shiki-themes github-light github-dark github-dark","app.get(\"/\", async (event) => {\n  await assertBodySize(event, 10 * 1024 * 1024); // 10MB\n  const data = await event.req.formData();\n});\n","ts","",[200,228,229,272,305,329],{"__ignoreMap":226},[230,231,234,238,242,245,249,252,256,259,263,266,269],"span",{"class":232,"line":233},"line",1,[230,235,237],{"class":236},"slsVL","app.",[230,239,241],{"class":240},"shcOC","get",[230,243,244],{"class":236},"(",[230,246,248],{"class":247},"sfrk1","\"/\"",[230,250,251],{"class":236},", ",[230,253,255],{"class":254},"so5gQ","async",[230,257,258],{"class":236}," (",[230,260,262],{"class":261},"sQHwn","event",[230,264,265],{"class":236},") ",[230,267,268],{"class":254},"=>",[230,270,271],{"class":236}," {\n",[230,273,275,278,281,284,288,291,294,296,298,301],{"class":232,"line":274},2,[230,276,277],{"class":254},"  await",[230,279,280],{"class":240}," assertBodySize",[230,282,283],{"class":236},"(event, ",[230,285,287],{"class":286},"suiK_","10",[230,289,290],{"class":254}," *",[230,292,293],{"class":286}," 1024",[230,295,290],{"class":254},[230,297,293],{"class":286},[230,299,300],{"class":236},"); ",[230,302,304],{"class":303},"sCsY4","// 10MB\n",[230,306,308,311,314,317,320,323,326],{"class":232,"line":307},3,[230,309,310],{"class":254},"  const",[230,312,313],{"class":286}," data",[230,315,316],{"class":254}," =",[230,318,319],{"class":254}," await",[230,321,322],{"class":236}," event.req.",[230,324,325],{"class":240},"formData",[230,327,328],{"class":236},"();\n",[230,330,332],{"class":232,"line":331},4,[230,333,334],{"class":236},"});\n",[196,336,338],{"id":337},"readbodyevent",[200,339,340],{},"readBody(event)",[204,342,343],{},"读取请求体并尝试使用 JSON.parse 或 URLSearchParams 解析。",[204,345,346],{},[217,347,348],{},"示例：",[221,350,352],{"className":223,"code":351,"language":225,"meta":226,"style":226},"app.get(\"/\", async (event) => {\n  const body = await readBody(event);\n});\n",[200,353,354,378,395],{"__ignoreMap":226},[230,355,356,358,360,362,364,366,368,370,372,374,376],{"class":232,"line":233},[230,357,237],{"class":236},[230,359,241],{"class":240},[230,361,244],{"class":236},[230,363,248],{"class":247},[230,365,251],{"class":236},[230,367,255],{"class":254},[230,369,258],{"class":236},[230,371,262],{"class":261},[230,373,265],{"class":236},[230,375,268],{"class":254},[230,377,271],{"class":236},[230,379,380,382,385,387,389,392],{"class":232,"line":274},[230,381,310],{"class":254},[230,383,384],{"class":286}," body",[230,386,316],{"class":254},[230,388,319],{"class":254},[230,390,391],{"class":240}," readBody",[230,393,394],{"class":236},"(event);\n",[230,396,397],{"class":232,"line":307},[230,398,334],{"class":236},[196,400,402],{"id":401},"readvalidatedbodyevent-validate",[200,403,404],{},"readValidatedBody(event, validate)",[204,406,407,408,411],{},"尝试通过 ",[200,409,410],{},"readBody"," 读取请求体，然后使用提供的验证模式或函数进行验证，验证失败抛出错误，成功返回结果。",[204,413,414,415,418],{},"你可以使用一个简单的函数验证请求体，或者使用与标准架构兼容的库如 ",[200,416,417],{},"zod"," 来定义验证模式。",[204,420,421],{},[217,422,348],{},[221,424,426],{"className":223,"code":425,"language":225,"meta":226,"style":226},"function validateBody(body: any) {\n  return typeof body === \"object\" && body !== null;\n}\napp.get(\"/\", async (event) => {\n  const body = await readValidatedBody(event, validateBody);\n});\n",[200,427,428,449,480,485,509,526],{"__ignoreMap":226},[230,429,430,433,436,438,440,443,446],{"class":232,"line":233},[230,431,432],{"class":254},"function",[230,434,435],{"class":240}," validateBody",[230,437,244],{"class":236},[230,439,193],{"class":261},[230,441,442],{"class":254},":",[230,444,445],{"class":286}," any",[230,447,448],{"class":236},") {\n",[230,450,451,454,457,460,463,466,469,471,474,477],{"class":232,"line":274},[230,452,453],{"class":254},"  return",[230,455,456],{"class":254}," typeof",[230,458,459],{"class":236}," body ",[230,461,462],{"class":254},"===",[230,464,465],{"class":247}," \"object\"",[230,467,468],{"class":254}," &&",[230,470,459],{"class":236},[230,472,473],{"class":254},"!==",[230,475,476],{"class":286}," null",[230,478,479],{"class":236},";\n",[230,481,482],{"class":232,"line":307},[230,483,484],{"class":236},"}\n",[230,486,487,489,491,493,495,497,499,501,503,505,507],{"class":232,"line":331},[230,488,237],{"class":236},[230,490,241],{"class":240},[230,492,244],{"class":236},[230,494,248],{"class":247},[230,496,251],{"class":236},[230,498,255],{"class":254},[230,500,258],{"class":236},[230,502,262],{"class":261},[230,504,265],{"class":236},[230,506,268],{"class":254},[230,508,271],{"class":236},[230,510,512,514,516,518,520,523],{"class":232,"line":511},5,[230,513,310],{"class":254},[230,515,384],{"class":286},[230,517,316],{"class":254},[230,519,319],{"class":254},[230,521,522],{"class":240}," readValidatedBody",[230,524,525],{"class":236},"(event, validateBody);\n",[230,527,529],{"class":232,"line":528},6,[230,530,334],{"class":236},[204,532,533],{},[217,534,348],{},[221,536,538],{"className":223,"code":537,"language":225,"meta":226,"style":226},"import { z } from \"zod\";\nconst objectSchema = z.object({\n  name: z.string().min(3).max(20),\n  age: z.number({ coerce: true }).positive().int(),\n});\napp.get(\"/\", async (event) => {\n  const body = await readValidatedBody(event, objectSchema);\n});\n",[200,539,540,556,575,608,636,640,664,680],{"__ignoreMap":226},[230,541,542,545,548,551,554],{"class":232,"line":233},[230,543,544],{"class":254},"import",[230,546,547],{"class":236}," { z } ",[230,549,550],{"class":254},"from",[230,552,553],{"class":247}," \"zod\"",[230,555,479],{"class":236},[230,557,558,561,564,566,569,572],{"class":232,"line":274},[230,559,560],{"class":254},"const",[230,562,563],{"class":286}," objectSchema",[230,565,316],{"class":254},[230,567,568],{"class":236}," z.",[230,570,571],{"class":240},"object",[230,573,574],{"class":236},"({\n",[230,576,577,580,583,586,589,591,594,597,600,602,605],{"class":232,"line":307},[230,578,579],{"class":236},"  name: z.",[230,581,582],{"class":240},"string",[230,584,585],{"class":236},"().",[230,587,588],{"class":240},"min",[230,590,244],{"class":236},[230,592,593],{"class":286},"3",[230,595,596],{"class":236},").",[230,598,599],{"class":240},"max",[230,601,244],{"class":236},[230,603,604],{"class":286},"20",[230,606,607],{"class":236},"),\n",[230,609,610,613,616,619,622,625,628,630,633],{"class":232,"line":331},[230,611,612],{"class":236},"  age: z.",[230,614,615],{"class":240},"number",[230,617,618],{"class":236},"({ coerce: ",[230,620,621],{"class":286},"true",[230,623,624],{"class":236}," }).",[230,626,627],{"class":240},"positive",[230,629,585],{"class":236},[230,631,632],{"class":240},"int",[230,634,635],{"class":236},"(),\n",[230,637,638],{"class":232,"line":511},[230,639,334],{"class":236},[230,641,642,644,646,648,650,652,654,656,658,660,662],{"class":232,"line":528},[230,643,237],{"class":236},[230,645,241],{"class":240},[230,647,244],{"class":236},[230,649,248],{"class":247},[230,651,251],{"class":236},[230,653,255],{"class":254},[230,655,258],{"class":236},[230,657,262],{"class":261},[230,659,265],{"class":236},[230,661,268],{"class":254},[230,663,271],{"class":236},[230,665,667,669,671,673,675,677],{"class":232,"line":666},7,[230,668,310],{"class":254},[230,670,384],{"class":286},[230,672,316],{"class":254},[230,674,319],{"class":254},[230,676,522],{"class":240},[230,678,679],{"class":236},"(event, objectSchema);\n",[230,681,683],{"class":232,"line":682},8,[230,684,334],{"class":236},[191,686,688],{"id":687},"cache","Cache",[196,690,692],{"id":691},"handlecacheheadersevent-opts",[200,693,694],{},"handleCacheHeaders(event, opts)",[204,696,697,698,701,702,705],{},"检查请求缓存头（",[200,699,700],{},"If-Modified-Since","）并添加缓存响应头（Last-Modified，Cache-Control）。注意：默认会添加 ",[200,703,704],{},"public"," 缓存控制。",[191,707,708],{"id":708},"更多请求工具",[196,710,712],{"id":711},"assertmethodevent-expected-allowhead",[200,713,714],{},"assertMethod(event, expected, allowHead?)",[204,716,717,718,721],{},"断言传入请求的方法是否为预期类型，使用 ",[200,719,720],{},"isMethod"," 进行检查。",[204,723,724],{},"如果请求方法不被允许，将抛出 405 错误，消息为 \"HTTP method is not allowed\"。",[204,726,727,728,731,732,734,735,738,739,742],{},"如果 ",[200,729,730],{},"allowHead"," 为 ",[200,733,621],{},"，且预期方法为 ",[200,736,737],{},"GET","，则允许 ",[200,740,741],{},"HEAD"," 请求通过。",[204,744,745],{},[217,746,348],{},[221,748,750],{"className":223,"code":749,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  assertMethod(event, \"GET\");\n  // 处理 GET 请求，否则抛出 405 错误\n});\n",[200,751,752,773,786,791],{"__ignoreMap":226},[230,753,754,756,758,760,762,765,767,769,771],{"class":232,"line":233},[230,755,237],{"class":236},[230,757,241],{"class":240},[230,759,244],{"class":236},[230,761,248],{"class":247},[230,763,764],{"class":236},", (",[230,766,262],{"class":261},[230,768,265],{"class":236},[230,770,268],{"class":254},[230,772,271],{"class":236},[230,774,775,778,780,783],{"class":232,"line":274},[230,776,777],{"class":240},"  assertMethod",[230,779,283],{"class":236},[230,781,782],{"class":247},"\"GET\"",[230,784,785],{"class":236},");\n",[230,787,788],{"class":232,"line":307},[230,789,790],{"class":303},"  // 处理 GET 请求，否则抛出 405 错误\n",[230,792,793],{"class":232,"line":331},[230,794,334],{"class":236},[196,796,798],{"id":797},"getqueryevent",[200,799,800],{},"getQuery(event)",[204,802,803],{},"从请求 URL 获取解析后的查询字符串对象。",[204,805,806],{},[217,807,348],{},[221,809,811],{"className":223,"code":810,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const query = getQuery(event); // { key: \"value\", key2: [\"value1\", \"value2\"] }\n});\n",[200,812,813,833,851],{"__ignoreMap":226},[230,814,815,817,819,821,823,825,827,829,831],{"class":232,"line":233},[230,816,237],{"class":236},[230,818,241],{"class":240},[230,820,244],{"class":236},[230,822,248],{"class":247},[230,824,764],{"class":236},[230,826,262],{"class":261},[230,828,265],{"class":236},[230,830,268],{"class":254},[230,832,271],{"class":236},[230,834,835,837,840,842,845,848],{"class":232,"line":274},[230,836,310],{"class":254},[230,838,839],{"class":286}," query",[230,841,316],{"class":254},[230,843,844],{"class":240}," getQuery",[230,846,847],{"class":236},"(event); ",[230,849,850],{"class":303},"// { key: \"value\", key2: [\"value1\", \"value2\"] }\n",[230,852,853],{"class":232,"line":307},[230,854,334],{"class":236},[196,856,858],{"id":857},"getrequesthostevent-opts-xforwardedhost",[200,859,860],{},"getRequestHost(event, opts: { xForwardedHost? })",[204,862,863],{},"获取请求的主机名。",[204,865,727,866,731,869,871,872,875],{},[200,867,868],{},"xForwardedHost",[200,870,621],{},"，则优先使用 ",[200,873,874],{},"x-forwarded-host"," 请求头（若存在）。",[204,877,878],{},"若未找到主机头，则默认为 \"localhost\"。",[204,880,881],{},[217,882,348],{},[221,884,886],{"className":223,"code":885,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const host = getRequestHost(event); // \"example.com\"\n});\n",[200,887,888,908,925],{"__ignoreMap":226},[230,889,890,892,894,896,898,900,902,904,906],{"class":232,"line":233},[230,891,237],{"class":236},[230,893,241],{"class":240},[230,895,244],{"class":236},[230,897,248],{"class":247},[230,899,764],{"class":236},[230,901,262],{"class":261},[230,903,265],{"class":236},[230,905,268],{"class":254},[230,907,271],{"class":236},[230,909,910,912,915,917,920,922],{"class":232,"line":274},[230,911,310],{"class":254},[230,913,914],{"class":286}," host",[230,916,316],{"class":254},[230,918,919],{"class":240}," getRequestHost",[230,921,847],{"class":236},[230,923,924],{"class":303},"// \"example.com\"\n",[230,926,927],{"class":232,"line":307},[230,928,334],{"class":236},[196,930,932],{"id":931},"getrequestipevent",[200,933,934],{},"getRequestIP(event)",[204,936,937],{},"尝试从传入请求中获取客户端 IP 地址。",[204,939,727,940,731,943,871,945,875],{},[200,941,942],{},"xForwardedFor",[200,944,621],{},[200,946,947],{},"x-forwarded-for",[204,949,950,951,954],{},"如果无法确定 IP，则返回 ",[200,952,953],{},"undefined","。",[204,956,957],{},[217,958,348],{},[221,960,962],{"className":223,"code":961,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const ip = getRequestIP(event); // \"192.0.2.0\"\n});\n",[200,963,964,984,1001],{"__ignoreMap":226},[230,965,966,968,970,972,974,976,978,980,982],{"class":232,"line":233},[230,967,237],{"class":236},[230,969,241],{"class":240},[230,971,244],{"class":236},[230,973,248],{"class":247},[230,975,764],{"class":236},[230,977,262],{"class":261},[230,979,265],{"class":236},[230,981,268],{"class":254},[230,983,271],{"class":236},[230,985,986,988,991,993,996,998],{"class":232,"line":274},[230,987,310],{"class":254},[230,989,990],{"class":286}," ip",[230,992,316],{"class":254},[230,994,995],{"class":240}," getRequestIP",[230,997,847],{"class":236},[230,999,1000],{"class":303},"// \"192.0.2.0\"\n",[230,1002,1003],{"class":232,"line":307},[230,1004,334],{"class":236},[196,1006,1008],{"id":1007},"getrequestprotocolevent-opts-xforwardedproto",[200,1009,1010],{},"getRequestProtocol(event, opts: { xForwardedProto? })",[204,1012,1013],{},"获取请求协议。",[204,1015,727,1016,1019,1020,1023,1024,1027],{},[200,1017,1018],{},"x-forwarded-proto"," 请求头设置为 \"https\"，则返回 \"https\"。可以通过将 ",[200,1021,1022],{},"xForwardedProto"," 设为 ",[200,1025,1026],{},"false"," 来禁用此行为。",[204,1029,1030],{},"如果无法确定协议，则默认为 \"http\"。",[204,1032,1033],{},[217,1034,348],{},[221,1036,1038],{"className":223,"code":1037,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const protocol = getRequestProtocol(event); // \"https\"\n});\n",[200,1039,1040,1060,1077],{"__ignoreMap":226},[230,1041,1042,1044,1046,1048,1050,1052,1054,1056,1058],{"class":232,"line":233},[230,1043,237],{"class":236},[230,1045,241],{"class":240},[230,1047,244],{"class":236},[230,1049,248],{"class":247},[230,1051,764],{"class":236},[230,1053,262],{"class":261},[230,1055,265],{"class":236},[230,1057,268],{"class":254},[230,1059,271],{"class":236},[230,1061,1062,1064,1067,1069,1072,1074],{"class":232,"line":274},[230,1063,310],{"class":254},[230,1065,1066],{"class":286}," protocol",[230,1068,316],{"class":254},[230,1070,1071],{"class":240}," getRequestProtocol",[230,1073,847],{"class":236},[230,1075,1076],{"class":303},"// \"https\"\n",[230,1078,1079],{"class":232,"line":307},[230,1080,334],{"class":236},[196,1082,1084],{"id":1083},"getrequesturlevent-opts-xforwardedhost-xforwardedproto",[200,1085,1086],{},"getRequestURL(event, opts: { xForwardedHost?, xForwardedProto? })",[204,1088,1089],{},"生成完整的传入请求 URL。",[204,1091,727,1092,731,1094,1096,1097,875],{},[200,1093,868],{},[200,1095,621],{},"，则使用 ",[200,1098,874],{},[204,1100,727,1101,731,1103,1105,1106,1108],{},[200,1102,1022],{},[200,1104,1026],{},"，则不使用 ",[200,1107,1018],{}," 请求头。",[204,1110,1111],{},[217,1112,348],{},[221,1114,1116],{"className":223,"code":1115,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const url = getRequestURL(event); // \"https://example.com/path\"\n});\n",[200,1117,1118,1138,1155],{"__ignoreMap":226},[230,1119,1120,1122,1124,1126,1128,1130,1132,1134,1136],{"class":232,"line":233},[230,1121,237],{"class":236},[230,1123,241],{"class":240},[230,1125,244],{"class":236},[230,1127,248],{"class":247},[230,1129,764],{"class":236},[230,1131,262],{"class":261},[230,1133,265],{"class":236},[230,1135,268],{"class":254},[230,1137,271],{"class":236},[230,1139,1140,1142,1145,1147,1150,1152],{"class":232,"line":274},[230,1141,310],{"class":254},[230,1143,1144],{"class":286}," url",[230,1146,316],{"class":254},[230,1148,1149],{"class":240}," getRequestURL",[230,1151,847],{"class":236},[230,1153,1154],{"class":303},"// \"https://example.com/path\"\n",[230,1156,1157],{"class":232,"line":307},[230,1158,334],{"class":236},[196,1160,1162],{"id":1161},"getrouterparamevent-name-opts-decode",[200,1163,1164],{},"getRouterParam(event, name, opts: { decode? })",[204,1166,1167],{},"根据名称获取匹配的路由参数。",[204,1169,727,1170,1173,1174,1176,1177,1180],{},[200,1171,1172],{},"decode"," 选项为 ",[200,1175,621],{},"，将使用 ",[200,1178,1179],{},"decodeURI"," 对匹配到的路由参数进行解码。",[204,1182,1183],{},[217,1184,348],{},[221,1186,1188],{"className":223,"code":1187,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const param = getRouterParam(event, \"key\");\n});\n",[200,1189,1190,1210,1229],{"__ignoreMap":226},[230,1191,1192,1194,1196,1198,1200,1202,1204,1206,1208],{"class":232,"line":233},[230,1193,237],{"class":236},[230,1195,241],{"class":240},[230,1197,244],{"class":236},[230,1199,248],{"class":247},[230,1201,764],{"class":236},[230,1203,262],{"class":261},[230,1205,265],{"class":236},[230,1207,268],{"class":254},[230,1209,271],{"class":236},[230,1211,1212,1214,1217,1219,1222,1224,1227],{"class":232,"line":274},[230,1213,310],{"class":254},[230,1215,1216],{"class":286}," param",[230,1218,316],{"class":254},[230,1220,1221],{"class":240}," getRouterParam",[230,1223,283],{"class":236},[230,1225,1226],{"class":247},"\"key\"",[230,1228,785],{"class":236},[230,1230,1231],{"class":232,"line":307},[230,1232,334],{"class":236},[196,1234,1236],{"id":1235},"getrouterparamsevent-opts-decode",[200,1237,1238],{},"getRouterParams(event, opts: { decode? })",[204,1240,1241],{},"获取匹配的路由参数集合。",[204,1243,727,1244,1173,1246,1176,1248,1251],{},[200,1245,1172],{},[200,1247,621],{},[200,1249,1250],{},"decodeURIComponent"," 对所有匹配路由参数进行解码。",[204,1253,1254],{},[217,1255,348],{},[221,1257,1259],{"className":223,"code":1258,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  const params = getRouterParams(event); // { key: \"value\" }\n});\n",[200,1260,1261,1281,1298],{"__ignoreMap":226},[230,1262,1263,1265,1267,1269,1271,1273,1275,1277,1279],{"class":232,"line":233},[230,1264,237],{"class":236},[230,1266,241],{"class":240},[230,1268,244],{"class":236},[230,1270,248],{"class":247},[230,1272,764],{"class":236},[230,1274,262],{"class":261},[230,1276,265],{"class":236},[230,1278,268],{"class":254},[230,1280,271],{"class":236},[230,1282,1283,1285,1288,1290,1293,1295],{"class":232,"line":274},[230,1284,310],{"class":254},[230,1286,1287],{"class":286}," params",[230,1289,316],{"class":254},[230,1291,1292],{"class":240}," getRouterParams",[230,1294,847],{"class":236},[230,1296,1297],{"class":303},"// { key: \"value\" }\n",[230,1299,1300],{"class":232,"line":307},[230,1301,334],{"class":236},[196,1303,1305],{"id":1304},"getvalidatedqueryevent-validate",[200,1306,1307],{},"getValidatedQuery(event, validate)",[204,1309,1310],{},"获取经过验证函数验证后的请求 URL 查询参数。",[204,1312,1313,1314,1316],{},"您可以使用一个简单的函数来验证查询对象，或者使用一个兼容标准架构的库，如 ",[200,1315,417],{}," 来定义架构。",[204,1318,1319],{},[217,1320,348],{},[221,1322,1324],{"className":223,"code":1323,"language":225,"meta":226,"style":226},"app.get(\"/\", async (event) => {\n  const query = await getValidatedQuery(event, (data) => {\n    return \"key\" in data && typeof data.key === \"string\";\n  });\n});\n",[200,1325,1326,1350,1375,1404,1409],{"__ignoreMap":226},[230,1327,1328,1330,1332,1334,1336,1338,1340,1342,1344,1346,1348],{"class":232,"line":233},[230,1329,237],{"class":236},[230,1331,241],{"class":240},[230,1333,244],{"class":236},[230,1335,248],{"class":247},[230,1337,251],{"class":236},[230,1339,255],{"class":254},[230,1341,258],{"class":236},[230,1343,262],{"class":261},[230,1345,265],{"class":236},[230,1347,268],{"class":254},[230,1349,271],{"class":236},[230,1351,1352,1354,1356,1358,1360,1363,1366,1369,1371,1373],{"class":232,"line":274},[230,1353,310],{"class":254},[230,1355,839],{"class":286},[230,1357,316],{"class":254},[230,1359,319],{"class":254},[230,1361,1362],{"class":240}," getValidatedQuery",[230,1364,1365],{"class":236},"(event, (",[230,1367,1368],{"class":261},"data",[230,1370,265],{"class":236},[230,1372,268],{"class":254},[230,1374,271],{"class":236},[230,1376,1377,1380,1383,1386,1389,1392,1394,1397,1399,1402],{"class":232,"line":307},[230,1378,1379],{"class":254},"    return",[230,1381,1382],{"class":247}," \"key\"",[230,1384,1385],{"class":254}," in",[230,1387,1388],{"class":236}," data ",[230,1390,1391],{"class":254},"&&",[230,1393,456],{"class":254},[230,1395,1396],{"class":236}," data.key ",[230,1398,462],{"class":254},[230,1400,1401],{"class":247}," \"string\"",[230,1403,479],{"class":236},[230,1405,1406],{"class":232,"line":331},[230,1407,1408],{"class":236},"  });\n",[230,1410,1411],{"class":232,"line":511},[230,1412,334],{"class":236},[204,1414,1415],{},[217,1416,348],{},[221,1418,1420],{"className":223,"code":1419,"language":225,"meta":226,"style":226},"import { z } from \"zod\";\napp.get(\"/\", async (event) => {\n  const query = await getValidatedQuery(\n    event,\n    z.object({\n      key: z.string(),\n    }),\n  );\n});\n",[200,1421,1422,1434,1458,1473,1478,1487,1496,1501,1506],{"__ignoreMap":226},[230,1423,1424,1426,1428,1430,1432],{"class":232,"line":233},[230,1425,544],{"class":254},[230,1427,547],{"class":236},[230,1429,550],{"class":254},[230,1431,553],{"class":247},[230,1433,479],{"class":236},[230,1435,1436,1438,1440,1442,1444,1446,1448,1450,1452,1454,1456],{"class":232,"line":274},[230,1437,237],{"class":236},[230,1439,241],{"class":240},[230,1441,244],{"class":236},[230,1443,248],{"class":247},[230,1445,251],{"class":236},[230,1447,255],{"class":254},[230,1449,258],{"class":236},[230,1451,262],{"class":261},[230,1453,265],{"class":236},[230,1455,268],{"class":254},[230,1457,271],{"class":236},[230,1459,1460,1462,1464,1466,1468,1470],{"class":232,"line":307},[230,1461,310],{"class":254},[230,1463,839],{"class":286},[230,1465,316],{"class":254},[230,1467,319],{"class":254},[230,1469,1362],{"class":240},[230,1471,1472],{"class":236},"(\n",[230,1474,1475],{"class":232,"line":331},[230,1476,1477],{"class":236},"    event,\n",[230,1479,1480,1483,1485],{"class":232,"line":511},[230,1481,1482],{"class":236},"    z.",[230,1484,571],{"class":240},[230,1486,574],{"class":236},[230,1488,1489,1492,1494],{"class":232,"line":528},[230,1490,1491],{"class":236},"      key: z.",[230,1493,582],{"class":240},[230,1495,635],{"class":236},[230,1497,1498],{"class":232,"line":666},[230,1499,1500],{"class":236},"    }),\n",[230,1502,1503],{"class":232,"line":682},[230,1504,1505],{"class":236},"  );\n",[230,1507,1509],{"class":232,"line":1508},9,[230,1510,334],{"class":236},[196,1512,1514],{"id":1513},"getvalidatedrouterparamsevent-validate-opts-decode",[200,1515,1516],{},"getValidatedRouterParams(event, validate, opts: { decode? })",[204,1518,1519],{},"获取匹配的路由参数并使用验证函数验证。",[204,1521,727,1522,1173,1524,1176,1526,1528],{},[200,1523,1172],{},[200,1525,621],{},[200,1527,1179],{}," 对匹配路由参数进行解码。",[204,1530,1531,1532,1534],{},"你可以使用一个简单的函数来验证参数对象，或者使用与标准模式兼容的库（如 ",[200,1533,417],{},"）来定义模式。",[204,1536,1537],{},[217,1538,348],{},[221,1540,1542],{"className":223,"code":1541,"language":225,"meta":226,"style":226},"app.get(\"/\", async (event) => {\n  const params = await getValidatedRouterParams(event, (data) => {\n    return \"key\" in data && typeof data.key === \"string\";\n  });\n});\n",[200,1543,1544,1568,1591,1613,1617],{"__ignoreMap":226},[230,1545,1546,1548,1550,1552,1554,1556,1558,1560,1562,1564,1566],{"class":232,"line":233},[230,1547,237],{"class":236},[230,1549,241],{"class":240},[230,1551,244],{"class":236},[230,1553,248],{"class":247},[230,1555,251],{"class":236},[230,1557,255],{"class":254},[230,1559,258],{"class":236},[230,1561,262],{"class":261},[230,1563,265],{"class":236},[230,1565,268],{"class":254},[230,1567,271],{"class":236},[230,1569,1570,1572,1574,1576,1578,1581,1583,1585,1587,1589],{"class":232,"line":274},[230,1571,310],{"class":254},[230,1573,1287],{"class":286},[230,1575,316],{"class":254},[230,1577,319],{"class":254},[230,1579,1580],{"class":240}," getValidatedRouterParams",[230,1582,1365],{"class":236},[230,1584,1368],{"class":261},[230,1586,265],{"class":236},[230,1588,268],{"class":254},[230,1590,271],{"class":236},[230,1592,1593,1595,1597,1599,1601,1603,1605,1607,1609,1611],{"class":232,"line":307},[230,1594,1379],{"class":254},[230,1596,1382],{"class":247},[230,1598,1385],{"class":254},[230,1600,1388],{"class":236},[230,1602,1391],{"class":254},[230,1604,456],{"class":254},[230,1606,1396],{"class":236},[230,1608,462],{"class":254},[230,1610,1401],{"class":247},[230,1612,479],{"class":236},[230,1614,1615],{"class":232,"line":331},[230,1616,1408],{"class":236},[230,1618,1619],{"class":232,"line":511},[230,1620,334],{"class":236},[204,1622,1623],{},[217,1624,348],{},[221,1626,1628],{"className":223,"code":1627,"language":225,"meta":226,"style":226},"import { z } from \"zod\";\napp.get(\"/\", async (event) => {\n  const params = await getValidatedRouterParams(\n    event,\n    z.object({\n      key: z.string(),\n    }),\n  );\n});\n",[200,1629,1630,1642,1666,1680,1684,1692,1700,1704,1708],{"__ignoreMap":226},[230,1631,1632,1634,1636,1638,1640],{"class":232,"line":233},[230,1633,544],{"class":254},[230,1635,547],{"class":236},[230,1637,550],{"class":254},[230,1639,553],{"class":247},[230,1641,479],{"class":236},[230,1643,1644,1646,1648,1650,1652,1654,1656,1658,1660,1662,1664],{"class":232,"line":274},[230,1645,237],{"class":236},[230,1647,241],{"class":240},[230,1649,244],{"class":236},[230,1651,248],{"class":247},[230,1653,251],{"class":236},[230,1655,255],{"class":254},[230,1657,258],{"class":236},[230,1659,262],{"class":261},[230,1661,265],{"class":236},[230,1663,268],{"class":254},[230,1665,271],{"class":236},[230,1667,1668,1670,1672,1674,1676,1678],{"class":232,"line":307},[230,1669,310],{"class":254},[230,1671,1287],{"class":286},[230,1673,316],{"class":254},[230,1675,319],{"class":254},[230,1677,1580],{"class":240},[230,1679,1472],{"class":236},[230,1681,1682],{"class":232,"line":331},[230,1683,1477],{"class":236},[230,1685,1686,1688,1690],{"class":232,"line":511},[230,1687,1482],{"class":236},[230,1689,571],{"class":240},[230,1691,574],{"class":236},[230,1693,1694,1696,1698],{"class":232,"line":528},[230,1695,1491],{"class":236},[230,1697,582],{"class":240},[230,1699,635],{"class":236},[230,1701,1702],{"class":232,"line":666},[230,1703,1500],{"class":236},[230,1705,1706],{"class":232,"line":682},[230,1707,1505],{"class":236},[230,1709,1710],{"class":232,"line":1508},[230,1711,334],{"class":236},[196,1713,1715],{"id":1714},"ismethodevent-expected-allowhead",[200,1716,1717],{},"isMethod(event, expected, allowHead?)",[204,1719,1720],{},"检查传入请求的方法是否为预期类型。",[204,1722,727,1723,731,1725,734,1727,738,1729,742],{},[200,1724,730],{},[200,1726,621],{},[200,1728,737],{},[200,1730,741],{},[204,1732,1733],{},[217,1734,348],{},[221,1736,1738],{"className":223,"code":1737,"language":225,"meta":226,"style":226},"app.get(\"/\", (event) => {\n  if (isMethod(event, \"GET\")) {\n    // 处理 GET 请求\n  } else if (isMethod(event, [\"POST\", \"PUT\"])) {\n    // 处理 POST 或 PUT 请求\n  }\n});\n",[200,1739,1740,1760,1776,1781,1810,1815,1820],{"__ignoreMap":226},[230,1741,1742,1744,1746,1748,1750,1752,1754,1756,1758],{"class":232,"line":233},[230,1743,237],{"class":236},[230,1745,241],{"class":240},[230,1747,244],{"class":236},[230,1749,248],{"class":247},[230,1751,764],{"class":236},[230,1753,262],{"class":261},[230,1755,265],{"class":236},[230,1757,268],{"class":254},[230,1759,271],{"class":236},[230,1761,1762,1765,1767,1769,1771,1773],{"class":232,"line":274},[230,1763,1764],{"class":254},"  if",[230,1766,258],{"class":236},[230,1768,720],{"class":240},[230,1770,283],{"class":236},[230,1772,782],{"class":247},[230,1774,1775],{"class":236},")) {\n",[230,1777,1778],{"class":232,"line":307},[230,1779,1780],{"class":303},"    // 处理 GET 请求\n",[230,1782,1783,1786,1789,1792,1794,1796,1799,1802,1804,1807],{"class":232,"line":331},[230,1784,1785],{"class":236},"  } ",[230,1787,1788],{"class":254},"else",[230,1790,1791],{"class":254}," if",[230,1793,258],{"class":236},[230,1795,720],{"class":240},[230,1797,1798],{"class":236},"(event, [",[230,1800,1801],{"class":247},"\"POST\"",[230,1803,251],{"class":236},[230,1805,1806],{"class":247},"\"PUT\"",[230,1808,1809],{"class":236},"])) {\n",[230,1811,1812],{"class":232,"line":511},[230,1813,1814],{"class":303},"    // 处理 POST 或 PUT 请求\n",[230,1816,1817],{"class":232,"line":528},[230,1818,1819],{"class":236},"  }\n",[230,1821,1822],{"class":232,"line":666},[230,1823,334],{"class":236},[196,1825,1827],{"id":1826},"torequestinput-options",[200,1828,1829],{},"toRequest(input, options?)",[204,1831,1832,1833,954],{},"将输入转换为网络 ",[1834,1835,1839],"a",{"href":1836,"rel":1837},"https://developer.mozilla.org/en-US/docs/Web/API/Request",[1838],"nofollow","Request",[204,1841,1842],{},"如果输入是相对 URL，它将根据头部规范化为完整路径。",[204,1844,1845],{},"如果输入已经是 Request 且未提供选项，则将原样返回。",[196,1847,1849],{"id":1848},"getrequestfingerprintevent-opts",[200,1850,1851],{},"getRequestFingerprint(event, opts)",[204,1853,1854],{},"获取传入请求的唯一指纹。",[1856,1857,1858],"style",{},"html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .shcOC, html code.shiki .shcOC{--shiki-light:#6F42C1;--shiki-default:#B392F0;--shiki-dark:#B392F0}html pre.shiki code .sfrk1, html code.shiki .sfrk1{--shiki-light:#032F62;--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF}html pre.shiki code .so5gQ, html code.shiki .so5gQ{--shiki-light:#D73A49;--shiki-default:#F97583;--shiki-dark:#F97583}html pre.shiki code .sQHwn, html code.shiki .sQHwn{--shiki-light:#E36209;--shiki-default:#FFAB70;--shiki-dark:#FFAB70}html pre.shiki code .suiK_, html code.shiki .suiK_{--shiki-light:#005CC5;--shiki-default:#79B8FF;--shiki-dark:#79B8FF}html pre.shiki code .sCsY4, html code.shiki .sCsY4{--shiki-light:#6A737D;--shiki-default:#6A737D;--shiki-dark:#6A737D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":226,"searchDepth":274,"depth":274,"links":1860},[1861,1866,1869],{"id":193,"depth":274,"text":194,"children":1862},[1863,1864,1865],{"id":198,"depth":307,"text":202},{"id":337,"depth":307,"text":340},{"id":401,"depth":307,"text":404},{"id":687,"depth":274,"text":688,"children":1867},[1868],{"id":691,"depth":307,"text":694},{"id":708,"depth":274,"text":708,"children":1870},[1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883],{"id":711,"depth":307,"text":714},{"id":797,"depth":307,"text":800},{"id":857,"depth":307,"text":860},{"id":931,"depth":307,"text":934},{"id":1007,"depth":307,"text":1010},{"id":1083,"depth":307,"text":1086},{"id":1161,"depth":307,"text":1164},{"id":1235,"depth":307,"text":1238},{"id":1304,"depth":307,"text":1307},{"id":1513,"depth":307,"text":1516},{"id":1714,"depth":307,"text":1717},{"id":1826,"depth":307,"text":1829},{"id":1848,"depth":307,"text":1851},"H3 请求工具。","md",{"automd":1887,"icon":102},true,{"icon":102},{"title":99,"description":1884},"gF4pQVO1VideTUubtduE_lPkYnS-pmcbQneQ9pCGaHc",[1892,1893],{"title":92,"path":93,"stem":94,"description":226,"icon":97,"children":-1},{"title":104,"path":105,"stem":106,"description":1894,"icon":107,"children":-1},"H3 响应实用工具。",1762531026355]