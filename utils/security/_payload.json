[{"data":1,"prerenderedAt":792},["ShallowReactive",2],{"navigation":3,"-utils-security":185,"-utils-security-surround":787},[4,91,133,161,168],{"title":5,"path":6,"stem":7,"children":8,"icon":90},"Guide","/guide","1.guide/0.index",[9,12,53,69],{"title":10,"path":6,"stem":7,"icon":11},"入门指南","pixel:play",{"title":5,"icon":13,"path":14,"stem":15,"children":16,"page":52},"ph:book-open-duotone","/guide/basics","1.guide/1.basics",[17,22,27,32,37,42,47],{"title":18,"path":19,"stem":20,"icon":21},"请求生命周期","/guide/basics/lifecycle","1.guide/1.basics/1.lifecycle","icon-park-outline:handle-round",{"title":23,"path":24,"stem":25,"icon":26},"路由","/guide/basics/routing","1.guide/1.basics/2.routing","solar:routing-bold",{"title":28,"path":29,"stem":30,"icon":31},"中间件","/guide/basics/middleware","1.guide/1.basics/3.middleware","mdi:middleware-outline",{"title":33,"path":34,"stem":35,"icon":36},"事件处理器","/guide/basics/handler","1.guide/1.basics/4.handler","mdi:function",{"title":38,"path":39,"stem":40,"icon":41},"发送响应","/guide/basics/response","1.guide/1.basics/5.response","tabler:json",{"title":43,"path":44,"stem":45,"icon":46},"错误处理","/guide/basics/error","1.guide/1.basics/6.error","tabler:error-404",{"title":48,"path":49,"stem":50,"icon":51},"嵌套应用","/guide/basics/nested-apps","1.guide/1.basics/7.nested-apps","material-symbols-light:layers-outline",false,{"title":54,"icon":55,"path":56,"stem":57,"children":58,"page":52},"API","material-symbols-light:api-rounded","/guide/api","1.guide/900.api",[59,64],{"title":60,"path":61,"stem":62,"icon":63},"H3","/guide/api/h3","1.guide/900.api/1.h3","material-symbols:bolt-rounded",{"title":65,"path":66,"stem":67,"icon":68},"H3Event","/guide/api/h3event","1.guide/900.api/2.h3event","material-symbols:data-object-rounded",{"title":70,"icon":71,"path":72,"stem":73,"children":74,"page":52},"Advanced","hugeicons:more-01","/guide/advanced","1.guide/901.advanced",[75,80,85],{"title":76,"path":77,"stem":78,"icon":79},"Plugins","/guide/advanced/plugins","1.guide/901.advanced/1.plugins","clarity:plugin-line",{"title":81,"path":82,"stem":83,"icon":84},"WebSockets","/guide/advanced/websocket","1.guide/901.advanced/2.websocket","hugeicons:live-streaming-02",{"title":86,"path":87,"stem":88,"icon":89},"每夜构建","/guide/advanced/nightly","1.guide/901.advanced/9.nightly","game-icons:barn-owl","i-ph:book-open-duotone",{"title":92,"path":93,"stem":94,"children":95,"icon":97},"H3 工具集","/utils","2.utils/0.index",[96,98,103,108,113,118,123,128],{"title":92,"path":93,"stem":94,"icon":97},"ph:function-bold",{"title":99,"path":100,"stem":101,"icon":102},"请求","/utils/request","2.utils/1.request","material-symbols-light:input",{"title":104,"path":105,"stem":106,"icon":107},"响应","/utils/response","2.utils/2.response","material-symbols-light:output",{"title":109,"path":110,"stem":111,"icon":112},"Cookie","/utils/cookie","2.utils/3.cookie","material-symbols:cookie-outline",{"title":114,"path":115,"stem":116,"icon":117},"安全","/utils/security","2.utils/4.security","wpf:key-security",{"title":119,"path":120,"stem":121,"icon":122},"代理","/utils/proxy","2.utils/5.proxy","arcticons:super-proxy",{"title":124,"path":125,"stem":126,"icon":127},"更多工具","/utils/more","2.utils/9.more","mingcute:plus-line",{"title":129,"path":130,"stem":131,"icon":132},"社区","/utils/community","2.utils/99.community","lets-icons:external",{"title":134,"path":135,"stem":136,"children":137,"icon":139},"示例","/examples","4.examples/0.index",[138,140,145,149,153,157],{"title":134,"path":135,"stem":136,"icon":139},"ph:code",{"title":141,"path":142,"stem":143,"icon":144},"Cookies","/examples/handle-cookie","4.examples/handle-cookie","ph:arrow-right",{"title":146,"path":147,"stem":148,"icon":144},"会话","/examples/handle-session","4.examples/handle-session",{"title":150,"path":151,"stem":152,"icon":144},"静态资源","/examples/serve-static-assets","4.examples/serve-static-assets",{"title":154,"path":155,"stem":156,"icon":144},"流式响应","/examples/stream-response","4.examples/stream-response",{"title":158,"path":159,"stem":160,"icon":144},"验证数据","/examples/validate-data","4.examples/validate-data",{"title":162,"path":163,"stem":164,"children":165,"icon":167},"从 v1 到 v2 的迁移指南","/migration","5.migration/0.index",[166],{"title":162,"path":163,"stem":164,"icon":167},"icons8:up-round",{"title":169,"path":170,"stem":171,"children":172},"Blog","/blog","99.blog",[173,177,181],{"title":174,"path":170,"stem":175,"icon":176},"博客","99.blog/index","i-lucide-file-text",{"title":178,"path":179,"stem":180,"icon":176},"H3 1.8 - 迈向 Web 的边缘","/blog/v1.8","99.blog/1.v1.8",{"title":182,"path":183,"stem":184,"icon":176},"H3 v2 测试版","/blog/v2-beta","99.blog/2.v2-beta",{"id":186,"title":114,"body":187,"description":780,"extension":781,"meta":782,"navigation":784,"path":115,"seo":785,"stem":116,"__hash__":786},"content/2.utils/4.security.md",{"type":188,"value":189,"toc":756,"icon":117},"minimark",[190,194,202,206,212,340,346,349,353,446,448,454,457,463,466,472,475,481,484,490,493,499,502,505,511,514,518,524,527,533,536,542,545,548,555,559,734,740,743,749,752],[191,192,193],"h2",{"id":193},"认证",[195,196,198],"h3",{"id":197},"basicauthopts",[199,200,201],"code",{},"basicAuth(opts)",[203,204,205],"p",{},"创建一个基本认证中间件。",[203,207,208],{},[209,210,211],"strong",{},"示例：",[213,214,219],"pre",{"className":215,"code":216,"language":217,"meta":218,"style":218},"language-ts shiki shiki-themes github-light github-dark github-dark","import { H3, serve, basicAuth } from \"h3\";\nconst auth = basicAuth({ password: \"test\" });\napp.get(\"/\", (event) => `Hello ${event.context.basicAuth?.username}!`, [auth]);\nserve(app, { port: 3000 });\n","ts","",[199,220,221,244,270,326],{"__ignoreMap":218},[222,223,226,230,234,237,241],"span",{"class":224,"line":225},"line",1,[222,227,229],{"class":228},"so5gQ","import",[222,231,233],{"class":232},"slsVL"," { H3, serve, basicAuth } ",[222,235,236],{"class":228},"from",[222,238,240],{"class":239},"sfrk1"," \"h3\"",[222,242,243],{"class":232},";\n",[222,245,247,250,254,257,261,264,267],{"class":224,"line":246},2,[222,248,249],{"class":228},"const",[222,251,253],{"class":252},"suiK_"," auth",[222,255,256],{"class":228}," =",[222,258,260],{"class":259},"shcOC"," basicAuth",[222,262,263],{"class":232},"({ password: ",[222,265,266],{"class":239},"\"test\"",[222,268,269],{"class":232}," });\n",[222,271,273,276,279,282,285,288,292,295,298,301,303,306,309,311,314,317,320,323],{"class":224,"line":272},3,[222,274,275],{"class":232},"app.",[222,277,278],{"class":259},"get",[222,280,281],{"class":232},"(",[222,283,284],{"class":239},"\"/\"",[222,286,287],{"class":232},", (",[222,289,291],{"class":290},"sQHwn","event",[222,293,294],{"class":232},") ",[222,296,297],{"class":228},"=>",[222,299,300],{"class":239}," `Hello ${",[222,302,291],{"class":232},[222,304,305],{"class":239},".",[222,307,308],{"class":232},"context",[222,310,305],{"class":239},[222,312,313],{"class":232},"basicAuth",[222,315,316],{"class":239},"?.",[222,318,319],{"class":232},"username",[222,321,322],{"class":239},"}!`",[222,324,325],{"class":232},", [auth]);\n",[222,327,329,332,335,338],{"class":224,"line":328},4,[222,330,331],{"class":259},"serve",[222,333,334],{"class":232},"(app, { port: ",[222,336,337],{"class":252},"3000",[222,339,269],{"class":232},[195,341,343],{"id":342},"requirebasicauthevent-opts",[199,344,345],{},"requireBasicAuth(event, opts)",[203,347,348],{},"为当前请求应用基本认证。",[203,350,351],{},[209,352,211],{},[213,354,356],{"className":215,"code":355,"language":217,"meta":218,"style":218},"import { defineHandler, requireBasicAuth } from \"h3\";\nexport default defineHandler(async (event) => {\n  await requireBasicAuth(event, { password: \"test\" });\n  return `Hello, ${event.context.basicAuth.username}!`;\n});\n",[199,357,358,371,399,414,440],{"__ignoreMap":218},[222,359,360,362,365,367,369],{"class":224,"line":225},[222,361,229],{"class":228},[222,363,364],{"class":232}," { defineHandler, requireBasicAuth } ",[222,366,236],{"class":228},[222,368,240],{"class":239},[222,370,243],{"class":232},[222,372,373,376,379,382,384,387,390,392,394,396],{"class":224,"line":246},[222,374,375],{"class":228},"export",[222,377,378],{"class":228}," default",[222,380,381],{"class":259}," defineHandler",[222,383,281],{"class":232},[222,385,386],{"class":228},"async",[222,388,389],{"class":232}," (",[222,391,291],{"class":290},[222,393,294],{"class":232},[222,395,297],{"class":228},[222,397,398],{"class":232}," {\n",[222,400,401,404,407,410,412],{"class":224,"line":272},[222,402,403],{"class":228},"  await",[222,405,406],{"class":259}," requireBasicAuth",[222,408,409],{"class":232},"(event, { password: ",[222,411,266],{"class":239},[222,413,269],{"class":232},[222,415,416,419,422,424,426,428,430,432,434,436,438],{"class":224,"line":328},[222,417,418],{"class":228},"  return",[222,420,421],{"class":239}," `Hello, ${",[222,423,291],{"class":232},[222,425,305],{"class":239},[222,427,308],{"class":232},[222,429,305],{"class":239},[222,431,313],{"class":232},[222,433,305],{"class":239},[222,435,319],{"class":232},[222,437,322],{"class":239},[222,439,243],{"class":232},[222,441,443],{"class":224,"line":442},5,[222,444,445],{"class":232},"});\n",[191,447,146],{"id":146},[195,449,451],{"id":450},"clearsessionevent-config",[199,452,453],{},"clearSession(event, config)",[203,455,456],{},"清除当前请求的会话数据。",[195,458,460],{"id":459},"getsessionevent-config",[199,461,462],{},"getSession(event, config)",[203,464,465],{},"获取当前请求的会话。",[195,467,469],{"id":468},"sealsessionevent-config",[199,470,471],{},"sealSession(event, config)",[203,473,474],{},"加密并签名当前请求的会话数据。",[195,476,478],{"id":477},"unsealsession_event-config-sealed",[199,479,480],{},"unsealSession(_event, config, sealed)",[203,482,483],{},"解密并验证当前请求的会话数据。",[195,485,487],{"id":486},"updatesessionevent-config-update",[199,488,489],{},"updateSession(event, config, update?)",[203,491,492],{},"更新当前请求的会话数据。",[195,494,496],{"id":495},"usesessionevent-config",[199,497,498],{},"useSession(event, config)",[203,500,501],{},"为当前请求创建一个会话管理器。",[191,503,504],{"id":504},"指纹",[195,506,508],{"id":507},"getrequestfingerprintevent-opts",[199,509,510],{},"getRequestFingerprint(event, opts)",[203,512,513],{},"获取传入请求的唯一指纹。",[191,515,517],{"id":516},"跨域资源共享cors","跨域资源共享（CORS）",[195,519,521],{"id":520},"appendcorsheadersevent-options",[199,522,523],{},"appendCorsHeaders(event, options)",[203,525,526],{},"向响应中添加 CORS 头。",[195,528,530],{"id":529},"appendcorspreflightheadersevent-options",[199,531,532],{},"appendCorsPreflightHeaders(event, options)",[203,534,535],{},"向响应中添加 CORS 预检请求头。",[195,537,539],{"id":538},"handlecorsevent-options",[199,540,541],{},"handleCors(event, options)",[203,543,544],{},"处理传入请求的 CORS。",[203,546,547],{},"如果传入请求是 CORS 预检请求，将添加 CORS 预检请求头并发送 204 响应。",[203,549,550,551,554],{},"如果返回值不是 ",[199,552,553],{},"false","，表示请求已被处理，无需进一步操作。",[203,556,557],{},[209,558,211],{},[213,560,562],{"className":215,"code":561,"language":217,"meta":218,"style":218},"const app = new H3();\nconst router = createRouter();\nrouter.use(\"/\", async (event) => {\n  const corsRes = handleCors(event, {\n    origin: \"*\",\n    preflight: {\n      statusCode: 204,\n    },\n    methods: \"*\",\n  });\n  if (corsRes !== false) {\n    return corsRes;\n  }\n  // 你的代码在此\n});\n",[199,563,564,582,596,623,639,650,656,667,673,683,689,707,716,722,729],{"__ignoreMap":218},[222,565,566,568,571,573,576,579],{"class":224,"line":225},[222,567,249],{"class":228},[222,569,570],{"class":252}," app",[222,572,256],{"class":228},[222,574,575],{"class":228}," new",[222,577,578],{"class":259}," H3",[222,580,581],{"class":232},"();\n",[222,583,584,586,589,591,594],{"class":224,"line":246},[222,585,249],{"class":228},[222,587,588],{"class":252}," router",[222,590,256],{"class":228},[222,592,593],{"class":259}," createRouter",[222,595,581],{"class":232},[222,597,598,601,604,606,608,611,613,615,617,619,621],{"class":224,"line":272},[222,599,600],{"class":232},"router.",[222,602,603],{"class":259},"use",[222,605,281],{"class":232},[222,607,284],{"class":239},[222,609,610],{"class":232},", ",[222,612,386],{"class":228},[222,614,389],{"class":232},[222,616,291],{"class":290},[222,618,294],{"class":232},[222,620,297],{"class":228},[222,622,398],{"class":232},[222,624,625,628,631,633,636],{"class":224,"line":328},[222,626,627],{"class":228},"  const",[222,629,630],{"class":252}," corsRes",[222,632,256],{"class":228},[222,634,635],{"class":259}," handleCors",[222,637,638],{"class":232},"(event, {\n",[222,640,641,644,647],{"class":224,"line":442},[222,642,643],{"class":232},"    origin: ",[222,645,646],{"class":239},"\"*\"",[222,648,649],{"class":232},",\n",[222,651,653],{"class":224,"line":652},6,[222,654,655],{"class":232},"    preflight: {\n",[222,657,659,662,665],{"class":224,"line":658},7,[222,660,661],{"class":232},"      statusCode: ",[222,663,664],{"class":252},"204",[222,666,649],{"class":232},[222,668,670],{"class":224,"line":669},8,[222,671,672],{"class":232},"    },\n",[222,674,676,679,681],{"class":224,"line":675},9,[222,677,678],{"class":232},"    methods: ",[222,680,646],{"class":239},[222,682,649],{"class":232},[222,684,686],{"class":224,"line":685},10,[222,687,688],{"class":232},"  });\n",[222,690,692,695,698,701,704],{"class":224,"line":691},11,[222,693,694],{"class":228},"  if",[222,696,697],{"class":232}," (corsRes ",[222,699,700],{"class":228},"!==",[222,702,703],{"class":252}," false",[222,705,706],{"class":232},") {\n",[222,708,710,713],{"class":224,"line":709},12,[222,711,712],{"class":228},"    return",[222,714,715],{"class":232}," corsRes;\n",[222,717,719],{"class":224,"line":718},13,[222,720,721],{"class":232},"  }\n",[222,723,725],{"class":224,"line":724},14,[222,726,728],{"class":727},"sCsY4","  // 你的代码在此\n",[222,730,732],{"class":224,"line":731},15,[222,733,445],{"class":232},[195,735,737],{"id":736},"iscorsoriginallowedorigin-options",[199,738,739],{},"isCorsOriginAllowed(origin, options)",[203,741,742],{},"检查来源是否被允许。",[195,744,746],{"id":745},"ispreflightrequestevent",[199,747,748],{},"isPreflightRequest(event)",[203,750,751],{},"检查传入请求是否为 CORS 预检请求。",[753,754,755],"style",{},"html pre.shiki code .so5gQ, html code.shiki .so5gQ{--shiki-light:#D73A49;--shiki-default:#F97583;--shiki-dark:#F97583}html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .sfrk1, html code.shiki .sfrk1{--shiki-light:#032F62;--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF}html pre.shiki code .suiK_, html code.shiki .suiK_{--shiki-light:#005CC5;--shiki-default:#79B8FF;--shiki-dark:#79B8FF}html pre.shiki code .shcOC, html code.shiki .shcOC{--shiki-light:#6F42C1;--shiki-default:#B392F0;--shiki-dark:#B392F0}html pre.shiki code .sQHwn, html code.shiki .sQHwn{--shiki-light:#E36209;--shiki-default:#FFAB70;--shiki-dark:#FFAB70}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sCsY4, html code.shiki .sCsY4{--shiki-light:#6A737D;--shiki-default:#6A737D;--shiki-dark:#6A737D}",{"title":218,"searchDepth":246,"depth":246,"links":757},[758,762,770,773],{"id":193,"depth":246,"text":193,"children":759},[760,761],{"id":197,"depth":272,"text":201},{"id":342,"depth":272,"text":345},{"id":146,"depth":246,"text":146,"children":763},[764,765,766,767,768,769],{"id":450,"depth":272,"text":453},{"id":459,"depth":272,"text":462},{"id":468,"depth":272,"text":471},{"id":477,"depth":272,"text":480},{"id":486,"depth":272,"text":489},{"id":495,"depth":272,"text":498},{"id":504,"depth":246,"text":504,"children":771},[772],{"id":507,"depth":272,"text":510},{"id":516,"depth":246,"text":517,"children":774},[775,776,777,778,779],{"id":520,"depth":272,"text":523},{"id":529,"depth":272,"text":532},{"id":538,"depth":272,"text":541},{"id":736,"depth":272,"text":739},{"id":745,"depth":272,"text":748},"H3 安全工具。","md",{"automd":783,"icon":117},true,{"icon":117},{"title":114,"description":780},"dtg3RymFGCrtDyTHVlnVdmLOF4bNFe9d6fRVquzpT5Q",[788,790],{"title":109,"path":110,"stem":111,"description":789,"icon":112,"children":-1},"H3 cookie 工具。",{"title":119,"path":120,"stem":121,"description":791,"icon":122,"children":-1},"H3 代理工具。",1762531026364]